<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Market Analysis Module</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Stone & Slate with Amber/Teal Accents (Background: bg-stone-100, Text: text-slate-800, Primary Accent: Amber, Secondary Accent: Teal) -->
    <!-- Application Structure Plan: The application is designed as a single-page dashboard with five thematic sections, accessible via a sticky top navigation. This structure transforms the linear report into a task-oriented, explorable experience. The flow is designed for strategic analysis: 1) Market Overview (potential & size), 2) Competitive Landscape (players & barriers), 3) Financial Viability (costs & profitability), 4) Dynamics & Risks (external forces), and 5) Strategic Synthesis (conclusion & score). This non-linear structure allows users to either follow a logical discovery path or jump directly to the section most relevant to their needs, enhancing usability and comprehension over a simple report scroll. -->
    <!-- Visualization & Content Choices: 
        - Market Size (TAM/SAM/SOM): Goal: Compare potential vs. addressable market. Viz: Nested Doughnut Chart (Chart.js). Interaction: Hover tooltips. Justification: Intuitively shows parts of a whole.
        - Growth Rate: Goal: Show long-term vs. short-term trends. Viz: Combined Bar/Line Chart (Chart.js). Interaction: Toggles. Justification: Effectively contrasts different time-series metrics.
        - Market Lifecycle: Goal: Inform current market maturity. Viz: Styled HTML/CSS diagram. Interaction: Static visual. Justification: Simple, clear indicator of status.
        - Entry Barriers: Goal: Assess difficulty of entry. Viz: Styled HTML cards with icons. Interaction: Hover for details. Justification: Visually categorizes and explains complex concepts cleanly.
        - CAC vs. CLV & Profit Margins: Goal: Compare key financial metrics across industries. Viz: Grouped & Horizontal Bar Charts (Chart.js). Interaction: Hover tooltips. Justification: Ideal for direct, clear comparison of benchmarks.
        - Risk Factors: Goal: Organize and evaluate potential threats. Viz: Interactive HTML grid (Risk Matrix). Interaction: Hover for details. Justification: Classic, effective tool for risk visualization.
        - Opportunity Score: Goal: Provide a summary "verdict". Viz: Gauge Chart (Doughnut in Chart.js). Interaction: Dynamic animation. Justification: High-impact "wow" factor for a key takeaway.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f5f4; /* stone-100 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
                max-height: 350px;
            }
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .nav-link:hover, .nav-link.active {
            color: #f59e0b; /* amber-500 */
            border-bottom-color: #f59e0b;
        }
        .kpi-card {
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
    </style>
</head>
<body class="text-slate-800">

    <header id="header" class="bg-white/80 backdrop-blur-lg shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <h1 class="font-bold text-xl text-slate-800">Market Analysis Dashboard</h1>
            <div class="hidden md:flex space-x-8">
                <a href="#overview" class="nav-link border-b-2 border-transparent pb-1">Overview</a>
                <a href="#competition" class="nav-link border-b-2 border-transparent pb-1">Competition</a>
                <a href="#financials" class="nav-link border-b-2 border-transparent pb-1">Financials</a>
                <a href="#dynamics" class="nav-link border-b-2 border-transparent pb-1">Dynamics & Risks</a>
                <a href="#strategy" class="nav-link border-b-2 border-transparent pb-1">Strategy</a>
            </div>
            <button id="mobile-menu-button" class="md:hidden focus:outline-none">
                <span class="text-3xl">☰</span>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden">
            <a href="#overview" class="block text-center py-2 px-4 text-sm hover:bg-stone-200">Overview</a>
            <a href="#competition" class="block text-center py-2 px-4 text-sm hover:bg-stone-200">Competition</a>
            <a href="#financials" class="block text-center py-2 px-4 text-sm hover:bg-stone-200">Financials</a>
            <a href="#dynamics" class="block text-center py-2 px-4 text-sm hover:bg-stone-200">Dynamics & Risks</a>
            <a href="#strategy" class="block text-center py-2 px-4 text-sm hover:bg-stone-200">Strategy</a>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        
        <section id="overview" class="py-16">
            <h2 class="text-4xl font-bold text-center mb-4">Market Overview & Potential</h2>
            <p class="text-center max-w-3xl mx-auto text-slate-600 mb-12">This section provides a high-level snapshot of the market's scale and health. It answers the fundamental questions: "How big is the opportunity?" and "Is the market growing?" We explore the total potential market versus what's realistically achievable, analyze growth trends, and identify the market's current stage of maturity.</p>
            
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold mb-2 text-center">Market Size (TAM, SAM, SOM)</h3>
                    <p class="text-sm text-slate-500 text-center mb-4">Visualizing the total addressable market (TAM), serviceable available market (SAM), and our serviceable obtainable market (SOM).</p>
                    <div class="chart-container h-[300px] md:h-[350px]">
                        <canvas id="marketSizeChart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold mb-2 text-center">Market Growth Rate</h3>
                    <p class="text-sm text-slate-500 text-center mb-4">Comparing long-term (YoY) and short-term (QoQ) growth to understand market momentum and seasonality.</p>
                     <div class="chart-container h-[300px] md:h-[350px]">
                        <canvas id="growthRateChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="mt-12 bg-white p-8 rounded-xl shadow-lg">
                <h3 class="text-2xl font-semibold mb-6 text-center">Market Lifecycle Stage</h3>
                <p class="text-center max-w-3xl mx-auto text-slate-600 mb-8">Understanding a market's lifecycle stage—Emerging, Growing, Mature, or Declining—is crucial for aligning strategy with prevailing conditions. Each stage has distinct characteristics regarding competition, profitability, and growth.</p>
                <div id="lifecycle-indicator" class="relative w-full max-w-4xl mx-auto py-4">
                    <div class="absolute top-1/2 left-0 w-full h-1 bg-slate-300 rounded-full transform -translate-y-1/2"></div>
                    <div class="relative flex justify-between items-center">
                        <div class="text-center w-1/4">
                            <div class="relative z-10 w-4 h-4 mx-auto bg-slate-300 rounded-full"></div>
                            <p class="mt-2 text-sm font-medium">Emerging</p>
                        </div>
                        <div class="text-center w-1/4">
                            <div class="relative z-10 w-6 h-6 mx-auto bg-amber-500 rounded-full ring-4 ring-amber-200 shadow-lg"></div>
                            <p class="mt-2 text-sm font-bold text-amber-600">Growing</p>
                        </div>
                        <div class="text-center w-1/4">
                            <div class="relative z-10 w-4 h-4 mx-auto bg-slate-300 rounded-full"></div>
                            <p class="mt-2 text-sm font-medium">Mature</p>
                        </div>
                        <div class="text-center w-1/4">
                            <div class="relative z-10 w-4 h-4 mx-auto bg-slate-300 rounded-full"></div>
                            <p class="mt-2 text-sm font-medium">Declining</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="competition" class="py-16">
            <h2 class="text-4xl font-bold text-center mb-4">Competitive Landscape</h2>
            <p class="text-center max-w-3xl mx-auto text-slate-600 mb-12">This section dissects the competitive environment. We identify key players, analyze the strategies of market leaders, and evaluate the barriers that new entrants face. Understanding the competition is key to carving out a unique and defensible market position.</p>
            
            <div class="grid lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold mb-4">Key Competitors Overview</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm text-left">
                            <thead class="text-xs text-slate-700 uppercase bg-stone-200">
                                <tr>
                                    <th scope="col" class="px-6 py-3">Company</th>
                                    <th scope="col" class="px-6 py-3">Market Share</th>
                                    <th scope="col" class="px-6 py-3">Primary Offering</th>
                                    <th scope="col" class="px-6 py-3">Positioning</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="bg-white border-b">
                                    <th scope="row" class="px-6 py-4 font-medium whitespace-nowrap">InnovateCorp (Leader)</th>
                                    <td class="px-6 py-4">35%</td>
                                    <td class="px-6 py-4">AI-Powered Analytics Suite</td>
                                    <td class="px-6 py-4">Premium, enterprise-focused</td>
                                </tr>
                                <tr class="bg-stone-50 border-b">
                                    <th scope="row" class="px-6 py-4 font-medium whitespace-nowrap">NextGen Solutions</th>
                                    <td class="px-6 py-4">22%</td>
                                    <td class="px-6 py-4">Cloud-based CRM</td>
                                    <td class="px-6 py-4">SMB-friendly, ease of use</td>
                                </tr>
                                <tr class="bg-white border-b">
                                    <th scope="row" class="px-6 py-4 font-medium whitespace-nowrap">DataWeavers Inc.</th>
                                    <td class="px-6 py-4">18%</td>
                                    <td class="px-6 py-4">Data Integration Platform</td>
                                    <td class="px-6 py-4">Developer-centric, flexible API</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold mb-4">Entry Barriers</h3>
                    <div class="space-y-4">
                        <div class="kpi-card flex items-start p-3 bg-red-50 rounded-lg">
                            <span class="text-red-500 text-2xl mr-3">⚡</span>
                            <div>
                                <h4 class="font-semibold">High Capital Requirements</h4>
                                <p class="text-sm text-slate-600">Significant upfront investment needed for R&D and infrastructure.</p>
                            </div>
                        </div>
                        <div class="kpi-card flex items-start p-3 bg-yellow-50 rounded-lg">
                            <span class="text-yellow-500 text-2xl mr-3">🛡️</span>
                            <div>
                                <h4 class="font-semibold">Strong Brand Loyalty</h4>
                                <p class="text-sm text-slate-600">Incumbents have established trust and a loyal customer base.</p>
                            </div>
                        </div>
                        <div class="kpi-card flex items-start p-3 bg-blue-50 rounded-lg">
                            <span class="text-blue-500 text-2xl mr-3">📜</span>
                            <div>
                                <h4 class="font-semibold">Regulatory Hurdles</h4>
                                <p class="text-sm text-slate-600">Complex compliance and licensing requirements must be met.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="financials" class="py-16">
            <h2 class="text-4xl font-bold text-center mb-4">Financial Viability</h2>
            <p class="text-center max-w-3xl mx-auto text-slate-600 mb-12">This section examines the economic realities of the market. We analyze the cost to acquire customers (CAC), the long-term value they bring (CLV), and typical profit margins. These metrics are crucial for determining if a business model in this market can be sustainably profitable.</p>
            
            <div class="grid lg:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold mb-2 text-center">Industry Benchmarks: CAC vs. CLV</h3>
                    <p class="text-sm text-slate-500 text-center mb-4">A healthy business model requires Customer Lifetime Value (CLV) to significantly exceed Customer Acquisition Cost (CAC). A 3:1 ratio is a common benchmark for sustainability.</p>
                    <div class="chart-container">
                        <canvas id="cacClvChart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h3 class="text-xl font-semibold mb-2 text-center">Average Profit Margins by Industry</h3>
                    <p class="text-sm text-slate-500 text-center mb-4">Profit margins vary widely by sector, reflecting different cost structures and pricing power. This chart provides context for performance expectations.</p>
                    <div class="chart-container">
                        <canvas id="profitMarginsChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="dynamics" class="py-16">
            <h2 class="text-4xl font-bold text-center mb-4">Market Dynamics & Risks</h2>
            <p class="text-center max-w-3xl mx-auto text-slate-600 mb-12">Markets are influenced by a host of external forces. This section explores key dynamics like technology trends, consumer behavior shifts, and supply chain issues. We also assess the major risks, providing a framework for proactive strategy and mitigation planning.</p>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
                <div class="kpi-card bg-white p-6 rounded-xl shadow-lg">
                    <h4 class="font-semibold text-lg mb-2">📈 Growth Signals</h4>
                    <p class="text-sm text-slate-600">Beyond revenue, we track non-financial KPIs, macroeconomic trends, and technical market indicators for a holistic view of market health.</p>
                </div>
                <div class="kpi-card bg-white p-6 rounded-xl shadow-lg">
                    <h4 class="font-semibold text-lg mb-2">💡 Technology Trends</h4>
                    <p class="text-sm text-slate-600">Disruptive technologies like AI, Blockchain, and 5G are reshaping value propositions and creating new opportunities and threats.</p>
                </div>
                <div class="kpi-card bg-white p-6 rounded-xl shadow-lg">
                    <h4 class="font-semibold text-lg mb-2">🚚 Supply Chain</h4>
                    <p class="text-sm text-slate-600">Resilience in the supply chain is a key differentiator. We analyze dynamics to mitigate risks from geopolitical or logistical disruptions.</p>
                </div>
                 <div class="kpi-card bg-white p-6 rounded-xl shadow-lg">
                    <h4 class="font-semibold text-lg mb-2">🧑‍🤝‍🧑 Consumer Behavior</h4>
                    <p class="text-sm text-slate-600">Shifts in consumer preferences are a direct feedback mechanism on product-market fit, impacting both CAC and CLV.</p>
                </div>
                 <div class="kpi-card bg-white p-6 rounded-xl shadow-lg">
                    <h4 class="font-semibold text-lg mb-2">⚖️ Regulatory Environment</h4>
                    <p class="text-sm text-slate-600">Evolving laws can create significant entry barriers or operational costs, requiring proactive compliance strategies.</p>
                </div>
                 <div class="kpi-card bg-white p-6 rounded-xl shadow-lg">
                    <h4 class="font-semibold text-lg mb-2">📅 Seasonality</h4>
                    <p class="text-sm text-slate-600">Predictable seasonal patterns in demand affect inventory, marketing, and financial planning throughout the year.</p>
                </div>
            </div>

            <div class="bg-white p-8 rounded-xl shadow-lg">
                <h3 class="text-2xl font-semibold mb-6 text-center">Risk Factor Assessment</h3>
                <div class="overflow-x-auto">
                    <table class="w-full min-w-max text-center border-collapse">
                        <thead>
                            <tr>
                                <th class="p-3 border-b-2 border-slate-200"></th>
                                <th class="p-3 border-b-2 border-slate-200 font-semibold">Low Impact</th>
                                <th class="p-3 border-b-2 border-slate-200 font-semibold">Medium Impact</th>
                                <th class="p-3 border-b-2 border-slate-200 font-semibold">High Impact</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="p-3 border-r-2 border-slate-200 font-semibold text-left">High Likelihood</td>
                                <td class="p-3 bg-yellow-100"></td>
                                <td class="p-3 bg-orange-200"><div class="p-2 rounded-md bg-white shadow">Supply Chain Disruption</div></td>
                                <td class="p-3 bg-red-200"><div class="p-2 rounded-md bg-white shadow">Regulatory Changes</div></td>
                            </tr>
                            <tr>
                                <td class="p-3 border-r-2 border-slate-200 font-semibold text-left">Medium Likelihood</td>
                                <td class="p-3 bg-green-100"></td>
                                <td class="p-3 bg-yellow-200"><div class="p-2 rounded-md bg-white shadow">Consumer Behavior Shift</div></td>
                                <td class="p-3 bg-orange-200"><div class="p-2 rounded-md bg-white shadow">Competitive Resistance</div></td>
                            </tr>
                            <tr>
                                <td class="p-3 border-r-2 border-slate-200 font-semibold text-left">Low Likelihood</td>
                                <td class="p-3 bg-green-100"></td>
                                <td class="p-3 bg-green-200"></td>
                                <td class="p-3 bg-yellow-200"><div class="p-2 rounded-md bg-white shadow">Technology Disruption</div></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="strategy" class="py-16">
            <h2 class="text-4xl font-bold text-center mb-4">Strategic Synthesis</h2>
            <p class="text-center max-w-3xl mx-auto text-slate-600 mb-12">This final section synthesizes all prior analysis into a conclusive evaluation. We present a calculated Opportunity Score to quantify the market's attractiveness and provide clear, actionable recommendations to guide strategic decision-making and resource allocation.</p>
            
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <div class="bg-white p-6 rounded-xl shadow-lg text-center">
                    <h3 class="text-2xl font-semibold mb-4">Market Opportunity Score</h3>
                    <div class="chart-container w-full max-w-xs h-auto mx-auto">
                        <canvas id="opportunityScoreChart"></canvas>
                    </div>
                     <p class="mt-4 text-slate-600 max-w-sm mx-auto">This score synthesizes factors like growth, profitability, and competitive intensity to provide a single measure of market attractiveness.</p>
                </div>
                <div class="bg-white p-8 rounded-xl shadow-lg">
                    <h3 class="text-2xl font-semibold mb-6">Actionable Recommendations</h3>
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <span class="text-teal-500 text-xl font-bold mr-3">1.</span>
                            <div>
                                <h4 class="font-semibold">Optimize LTV:CAC Ratio</h4>
                                <p class="text-sm text-slate-600">Focus on customer retention and leverage cost-effective organic marketing channels to improve the sustainability of the business model.</p>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-teal-500 text-xl font-bold mr-3">2.</span>
                            <div>
                                <h4 class="font-semibold">Develop Adaptive Supply Chain</h4>
                                <p class="text-sm text-slate-600">Invest in predictive analytics and diversify suppliers to build resilience against potential disruptions and maintain a competitive edge.</p>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <span class="text-teal-500 text-xl font-bold mr-3">3.</span>
                            <div>
                                <h4 class="font-semibold">Align Strategy with 'Growing' Phase</h4>
                                <p class="text-sm text-slate-600">Prioritize innovation and market share capture. Shift focus from "quantity growth" to "quality growth" by enhancing product and brand identity.</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-800 text-white mt-16">
        <div class="container mx-auto p-6 text-center text-sm">
            <p>&copy; 2025 Market Analysis Module. All data is illustrative.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            const chartFontColor = '#1e293b'; // text-slate-800
            const gridLineColor = '#e2e8f0'; // slate-200

            const createMarketSizeChart = () => {
                const ctx = document.getElementById('marketSizeChart').getContext('2d');
                new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Untapped Market', 'Serviceable Obtainable (SOM)', 'Serviceable Available (SAM)'],
                        datasets: [{
                            label: 'Market Size',
                            data: [800, 20, 180], // TAM = 1000, SAM = 200, SOM = 20
                            backgroundColor: [
                                '#e5e7eb', // gray-200
                                '#f59e0b', // amber-500
                                '#fbbf24', // amber-400
                            ],
                            borderColor: '#f5f5f4',
                            borderWidth: 4,
                            hoverOffset: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        cutout: '50%',
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    color: chartFontColor,
                                    font: { size: 12 }
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed !== null) {
                                            label += new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', notation: 'compact' }).format(context.parsed * 100000000);
                                        }
                                        return context.label + ': ' + label;
                                    }
                                }
                            }
                        }
                    }
                });
            };

            const createGrowthRateChart = () => {
                const ctx = document.getElementById('growthRateChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Q1 2024', 'Q2 2024', 'Q3 2024', 'Q4 2024', 'Q1 2025'],
                        datasets: [{
                            type: 'line',
                            label: 'YoY Growth (%)',
                            data: [5.2, 5.5, 5.8, 6.1, 6.5],
                            borderColor: '#0d9488', // teal-600
                            backgroundColor: '#0d9488',
                            tension: 0.3,
                            yAxisID: 'y'
                        }, {
                            type: 'bar',
                            label: 'QoQ Growth (%)',
                            data: [1.5, 1.2, 1.8, 1.4, 1.9],
                            backgroundColor: '#a5b4fc4D', // indigo-300 with opacity
                            borderColor: '#6366f1', // indigo-500
                            borderWidth: 1,
                            yAxisID: 'y'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: { color: gridLineColor },
                                ticks: { color: chartFontColor }
                            },
                            x: {
                                grid: { display: false },
                                ticks: { color: chartFontColor }
                            }
                        },
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: { color: chartFontColor }
                            },
                            tooltip: {
                                mode: 'index',
                                intersect: false,
                            }
                        }
                    }
                });
            };

            const createCacClvChart = () => {
                const ctx = document.getElementById('cacClvChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['E-commerce', 'B2B SaaS', 'Fintech', 'Education'],
                        datasets: [{
                            label: 'CAC ($)',
                            data: [70, 702, 1450, 1143],
                            backgroundColor: '#fbbf24', // amber-400
                            borderColor: '#f59e0b',
                            borderWidth: 1
                        }, {
                            label: 'CLV ($)',
                            data: [450, 4000, 6000, 10000],
                            backgroundColor: '#6ee7b7', // emerald-300
                            borderColor: '#10b981',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                type: 'logarithmic',
                                grid: { color: gridLineColor },
                                ticks: { color: chartFontColor }
                            },
                            x: {
                                grid: { display: false },
                                ticks: { color: chartFontColor }
                            }
                        },
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: { color: chartFontColor }
                            },
                            tooltip: {
                                mode: 'index',
                                intersect: false,
                            }
                        }
                    }
                });
            };

            const createProfitMarginsChart = () => {
                const ctx = document.getElementById('profitMarginsChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Software', 'Consulting', 'Healthcare', 'Retail', 'Grocery'],
                        datasets: [{
                            label: 'Avg. Net Profit Margin (%)',
                            data: [25, 22, 12, 8, 2],
                            backgroundColor: [
                                '#0d9488',
                                '#14b8a6',
                                '#5eead4',
                                '#99f6e4',
                                '#ccfbf1',
                            ],
                            borderColor: '#0f766e',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                beginAtZero: true,
                                grid: { color: gridLineColor },
                                ticks: { color: chartFontColor }
                            },
                            y: {
                                grid: { display: false },
                                ticks: { color: chartFontColor }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            }
                        }
                    }
                });
            };

            const createOpportunityScoreChart = () => {
                const ctx = document.getElementById('opportunityScoreChart').getContext('2d');
                const score = 7.8;
                new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Score', 'Remaining'],
                        datasets: [{
                            data: [score, 10 - score],
                            backgroundColor: ['#f59e0b', '#e5e7eb'],
                            borderColor: '#f5f5f4',
                            borderWidth: 4,
                            circumference: 180,
                            rotation: 270,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        aspectRatio: 2,
                        cutout: '65%',
                        plugins: {
                            legend: { display: false },
                            tooltip: { enabled: false }
                        }
                    },
                    plugins: [{
                        id: 'gaugeText',
                        beforeDraw: (chart) => {
                            const { width, height, ctx } = chart;
                            ctx.restore();
                            const fontSize = (height / 114).toFixed(2);
                            ctx.font = `bold ${fontSize}rem Inter`;
                            ctx.textBaseline = 'middle';
                            ctx.textAlign = 'center';

                            const text = score.toFixed(1);
                            const textX = Math.round(width / 2);
                            const textY = Math.round(height * 0.85);

                            ctx.fillStyle = '#1e293b';
                            ctx.fillText(text, textX, textY);
                            
                            ctx.font = `${(fontSize * 0.5).toFixed(2)}rem Inter`;
                            ctx.fillStyle = '#64748b'; // slate-500
                            ctx.fillText('out of 10', textX, textY + 25);
                            ctx.save();
                        }
                    }]
                });
            };

            const initMobileMenu = () => {
                const menuButton = document.getElementById('mobile-menu-button');
                const mobileMenu = document.getElementById('mobile-menu');
                menuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            };

            const initNavHighlighting = () => {
                const sections = document.querySelectorAll('section');
                const navLinks = document.querySelectorAll('.nav-link');

                window.addEventListener('scroll', () => {
                    let current = '';
                    sections.forEach(section => {
                        const sectionTop = section.offsetTop;
                        if (pageYOffset >= sectionTop - 100) {
                            current = section.getAttribute('id');
                        }
                    });

                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href').includes(current)) {
                            link.classList.add('active');
                        }
                    });
                });
            };

            createMarketSizeChart();
            createGrowthRateChart();
            createCacClvChart();
            createProfitMarginsChart();
            createOpportunityScoreChart();
            initMobileMenu();
            initNavHighlighting();
        });
    </script>
</body>
</html>